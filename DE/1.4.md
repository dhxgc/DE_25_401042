## Виртуальный коммутатор

1. Для начала стоит создать bridge, который будет объединять все порты, что позволит коммутировать устройства на L2, а также разделить все на VLAN'ы.

```ovs
	ovs-vsctl add-br ovs0
```

2. Накинем VLAN теги на порты во время добавления в bridgel, в соответствии с заданием (HQ-SRV - 100, HQ-CLI - 200, HQ-SW - 999)

```ovs
	ovs-vsctl add-port ens18 trunk=100,200,999 # HQ-net
	ovs-vsctl add-port ens19 tag=100 # SRV-net
	ovs-vsctl add-port ens20 tag=200 # CLI-net
	ovs-vsctl set port ovs0 tag=999 # HQ-net
```
3. Перезагружаем `OVS` и `ifupdown` (networking), который отвечает за сеть.

```bash
	systemctl restart networking openvswitch-switch
```

Проверяем, что все применилось. Важное замечание - все порты должны быть `UP`, или `UNKONOWN`. Может быть еще что-то, но главное чтобы не DOWN, а также был link-local адрес, который говорит о том, что порт подключен и работает.

> Скрин с тем, что все как указано.

4. Теперь переходим к настройке Router-On-Stick. Про то как он работает - [читаем здесь](https://netacad.sadlab.su/srwe-dl/4.2.1).
